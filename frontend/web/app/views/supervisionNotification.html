<style>
#personNotifContainer {
  -webkit-flex-direction: row;
  display: -webkit-flex;
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  align-items: stretch;
  border-radius: 25px;
  border: solid 1px #d3d3d3;
  margin: 2% 2%;
  min-height: 80vh;
  overflow: hidden;
  position: relative;
}
</style>

<!--
     there are obviously components that need to be refactored and encapsulated
     into directives
-->

<div id="personNotifContainer">
  <div ng-controller="supervisionNotificationController" ng-cloak>
    <div layout="row">

      <!-- supervisor -->
      <div id="supervisor">
        <md-toolbar md-scroll-shrink>
          <div class="md-toolbar-tools">supervisor</div>
        </md-toolbar>
        <div>
          <h3> {{supervisor.person.data.name.toUpperCase()}} </h3>
          <p> {{supervisor.person.data.position.toUpperCase()}} <br>
            {{supervisor.person.institution.name.toUpperCase()}}</p>
        </div>
        <div id="viewMentors">
          <md-card>
            <md-card-header>
              <md-card-avatar ng-click="supervisor_mentorVisibility = !supervisor_mentorVisibility;">
                <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg"></md-icon>
                  <md-tooltip md-direction="{{demo.tipDirection}}">
                    Click here to view who mentored {{supervisor.person.name}}.
                  </md-tooltip>
              </md-card-avatar>
              <md-card-header-text>
                <span class="md-title">{{supervisor.person.name}} had {{supervisor.mentors.length}} mentors</span>
              </md-card-header-text>
            </md-card-header>
            <md-card-content ng-if="supervisor_mentorVisibility && supervisor.mentors.length > 0">
              <md-list-item class="md-3-line" ng-repeat="mentor in supervisor.mentors">
                <div class="md-list-item-text" layout="column" style="width: 100%;">
                  <br>
                  <h3> {{mentor.institution.name.toUpperCase()}} </h3>
                  <h3>{{mentor.start}} - {{mentor.end}} </h3> <br>
                  <h4><u> mentored by: </u></h4>
                  <p>{{mentor.mentor.data.name.toUpperCase()}}</p>
                  <p>{{mentor.mentor.institution.name}}</p>
                  <p>{{mentor.mentor.data.position.toUpperCase()}}</p>
                  <br>
                </div>
                <md-divider ></md-divider>
              </md-list-item>
            </md-card-content>
          </md-card>
        </div>
        <div id="viewMentored">
          <md-card>
            <md-card-header>
              <md-card-avatar ng-click="supervisor_mentoredVisibility = !supervisor_mentoredVisibility;">
                <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg"></md-icon>
                  <md-tooltip md-direction="{{demo.tipDirection}}">
                    Click here to view who {{supervisor.person.name}} mentored.
                  </md-tooltip>
              </md-card-avatar>
              <md-card-header-text>
                <span class="md-title">{{supervisor.person.name}} mentored {{supervisor.mentored.length}} people.</span>
              </md-card-header-text>
            </md-card-header>
            <md-card-content ng-if="supervisor_mentoredVisibility && supervisor.mentored.length > 0">
              <md-list-item class="md-3-line" ng-repeat="mentored in supervisor.mentored">
                <div class="md-list-item-text" layout="column" style="width: 100%;">
                  <br>
                  <h3> {{mentored.institution.name.toUpperCase()}} </h3>
                  <h3>{{mentored.start}} - {{mentored.end}} </h3> <br>
                  <h4><u> mentee: </u></h4>
                  <p>{{mentored.mentored.person.name.toUpperCase()}}</p>
                  <p>{{mentored.mentored.institution.name.toUpperCase()}}</p>
                  <p>{{mentored.mentored.person.position.toUpperCase()}}</p>
                  <br>
                </div>
                <md-divider ></md-divider>
              </md-list-item>
            </md-card-content>
          </md-card>
        </div>
        <div id="viewSupervisors">
          <md-card>
            <md-card-header>
              <md-card-avatar ng-click="supervisor_supervisorVisibility = !supervisor_supervisorVisibility;">
                <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg">
                </md-icon>
                  <md-tooltip md-direction="{{demo.tipDirection}}">
                    Click here to view who {{supervisor.person.name}} was supervised by.
                  </md-tooltip>
              </md-card-avatar>
              <md-card-header-text>
                <span class="md-title">{{supervisor.person.name}} had {{supervisor.supervisors.length}} supervisors.</span>
              </md-card-header-text>
            </md-card-header>
            <md-card-content ng-if="supervisor_supervisorVisibility && supervisor.supervisors.length > 0">
              <md-list-item class="md-3-line" ng-repeat="supervisor in supervisor.supervisors">
                <div class="md-list-item-text" layout="column" style="width: 100%;">
                  <br>
                  <h3> {{supervisor.degree.data.degree_type}} at {{supervisor.degree.institution.name}} on {{supervisor.degree.data.year}}</h3>
                  <br>
                  <h4><u> supervisor: </u></h4>
                  <p>{{supervisor.supervisor.person.name.toUpperCase()}}</p>
                  <p>{{supervisor.supervisor.institution.name.toUpperCase()}}</p>
                  <p>{{supervisor.supervisor.person.position.toUpperCase()}}</p>
                  <br>
                </div>
                <md-divider ></md-divider>
              </md-list-item>
            </md-card-content>
          </md-card>
        </div>
        <div id="viewSupervised">
          <md-card>
            <md-card-header>
              <md-card-avatar ng-click="supervisor_supervisedVisibility = !supervisor_supervisedVisibility;">
                <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg">
                </md-icon>
                  <md-tooltip md-direction="{{demo.tipDirection}}">
                    Click here to view who {{supervisor.person.name}} supervised.
                  </md-tooltip>
              </md-card-avatar>
              <md-card-header-text>
                <span class="md-title">{{supervisor.person.name}} supervised {{supervisor.supervised.length}} people.</span>
              </md-card-header-text>
            </md-card-header>
            <md-card-content ng-if="supervisor_supervisedVisibility && supervisor.supervised.length > 0">
              <md-list-item class="md-3-line" ng-repeat="supervised in supervisor.supervised">
                <div class="md-list-item-text" layout="column" style="width: 100%;">
                  <br>
                  <h3> {{supervised.degree.data.degree_type}} at {{supervised.degree.institution.name}} on {{supervised.degree.data.year}}</h3>
                  <br>
                  <h4><u> person: </u></h4>
                  <p>{{supervised.person.data.name.toUpperCase()}}</p>
                  <p>{{supervised.person.institution.name.toUpperCase()}}</p>
                  <p>{{supervised.person.data.position.toUpperCase()}}</p>
                  <br>
                </div>
                <md-divider ></md-divider>
              </md-list-item>
            </md-card-content>
          </div>
        </div>
          <!-- supervised -->

          <div id="supervised" flex>
            <md-toolbar md-scroll-shrink>
              <div class="md-toolbar-tools">supervised</div>
            </md-toolbar>
            <div>
              <h3> {{supervised.person.data.name.toUpperCase()}} </h3>
              <p> {{supervised.person.data.position.toUpperCase()}} <br>
                {{supervised.person.institution.name.toUpperCase()}}</p>
            </div>
            <div id="viewMentors">
              <md-card>
                <md-card-header>
                  <md-card-avatar ng-click="supervised_mentorVisibility = !supervised_mentorVisibility;">
                    <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg"></md-icon>
                      <md-tooltip md-direction="{{demo.tipDirection}}">
                        Click here to view who mentored {{supervised.person.name}}.
                      </md-tooltip>
                  </md-card-avatar>
                  <md-card-header-text>
                    <span class="md-title">{{supervised.person.name}} had {{supervised.mentors.length}} mentors</span>
                  </md-card-header-text>
                </md-card-header>
                <md-card-content ng-if="supervised_mentorVisibility && supervised.mentors.length > 0">
                  <md-list-item class="md-3-line" ng-repeat="mentor in supervised.mentors">
                    <div class="md-list-item-text" layout="column" style="width: 100%;">
                      <br>
                      <h3> {{mentor.institution.name.toUpperCase()}} </h3>
                      <h3>{{mentor.start}} - {{mentor.end}} </h3> <br>
                      <h4><u> mentored by: </u></h4>
                      <p>{{mentor.mentor.data.name.toUpperCase()}}</p>
                      <p>{{mentor.mentor.institution.name}}</p>
                      <p>{{mentor.mentor.data.position.toUpperCase()}}</p>
                      <br>
                    </div>
                    <md-divider ></md-divider>
                  </md-list-item>
                </md-card-content>
              </md-card>
            </div>
            <div id="viewMentored">
              <md-card>
                <md-card-header>
                  <md-card-avatar ng-click="supervised_mentoredVisibility = !supervised_mentoredVisibility;">
                    <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg"></md-icon>
                      <md-tooltip md-direction="{{demo.tipDirection}}">
                        Click here to view who {{supervised.person.name}} mentored.
                      </md-tooltip>
                  </md-card-avatar>
                  <md-card-header-text>
                    <span class="md-title">{{supervised.person.name}} mentored {{supervised.mentored.length}} people.</span>
                  </md-card-header-text>
                </md-card-header>
                <md-card-content ng-if="supervised_mentoredVisibility && supervised.mentored.length > 0">
                  <md-list-item class="md-3-line" ng-repeat="mentored in supervised.mentored">
                    <div class="md-list-item-text" layout="column" style="width: 100%;">
                      <br>
                      <h3> {{mentored.institution.name.toUpperCase()}} </h3>
                      <h3>{{mentored.start}} - {{mentored.end}} </h3> <br>
                      <h4><u> mentee: </u></h4>
                      <p>{{mentored.mentored.person.name.toUpperCase()}}</p>
                      <p>{{mentored.mentored.institution.name.toUpperCase()}}</p>
                      <p>{{mentored.mentored.person.position.toUpperCase()}}</p>
                      <br>
                    </div>
                    <md-divider ></md-divider>
                  </md-list-item>
                </md-card-content>
              </md-card>
            </div>
            <div id="viewSupervisors">
              <md-card>
                <md-card-header>
                  <md-card-avatar ng-click="supervised_supervisorVisibility = !supervised_supervisorVisibility;">
                    <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg">
                    </md-icon>
                      <md-tooltip md-direction="{{demo.tipDirection}}">
                        Click here to view who {{supervised.person.name}} was supervised by.
                      </md-tooltip>
                  </md-card-avatar>
                  <md-card-header-text>
                    <span class="md-title">{{supervised.person.name}} had {{supervised.supervisors.length}} supervisors.</span>
                  </md-card-header-text>
                </md-card-header>
                <md-card-content ng-if="supervised_supervisorVisibility && supervised.supervisors.length > 0">
                  <md-list-item class="md-3-line" ng-repeat="supervisor in supervised.supervisors">
                    <div class="md-list-item-text" layout="column" style="width: 100%;">
                      <br>
                      <h3> {{supervisor.degree.data.degree_type}} at {{supervisor.degree.institution.name}} on {{supervisor.degree.data.year}}</h3>
                      <br>
                      <h4><u> supervisor: </u></h4>
                      <p>{{supervisor.supervisor.person.name.toUpperCase()}}</p>
                      <p>{{supervisor.supervisor.institution.name.toUpperCase()}}</p>
                      <p>{{supervisor.supervisor.person.position.toUpperCase()}}</p>
                      <br>
                    </div>
                    <md-divider ></md-divider>
                  </md-list-item>
                </md-card-content>
              </md-card>
            </div>
            <div id="viewSupervised">
              <md-card>
                <md-card-header>
                  <md-card-avatar ng-click="supervised_supervisedVisibility = !supervised_supervisedVisibility;">
                    <md-icon style="cursor:pointer" class="md-avatar-icon" md-svg-icon="/static/img/ic_expand_more_black_24px.svg">
                    </md-icon>
                      <md-tooltip md-direction="{{demo.tipDirection}}">
                        Click here to view who {{supervised.person.name}} supervised.
                      </md-tooltip>
                  </md-card-avatar>
                  <md-card-header-text>
                    <span class="md-title">{{supervised.person.name}} supervised {{supervised.supervised.length}} people.</span>
                  </md-card-header-text>
                </md-card-header>
                <md-card-content ng-if="supervised_supervisedVisibility && supervised.supervised.length > 0">
                  <md-list-item class="md-3-line" ng-repeat="supervised in supervised.supervised">
                    <div class="md-list-item-text" layout="column" style="width: 100%;">
                      <br>
                      <h3> {{supervised.degree.data.degree_type}} at {{supervised.degree.institution.name}} on {{supervised.degree.data.year}}</h3>
                      <br>
                      <h4><u> person: </u></h4>
                      <p>{{supervised.person.data.name.toUpperCase()}}</p>
                      <p>{{supervised.person.institution.name.toUpperCase()}}</p>
                      <p>{{supervised.person.data.position.toUpperCase()}}</p>
                      <br>
                    </div>
                    <md-divider ></md-divider>
                  </md-list-item>
                </md-card-content>
              </div>
            </div>
          </div>
          <section layout="row" layout-align="center center" layout-wrap>
            <md-button ng-click="verifySupervision()" class="md-primary md-raised">Accept</md-button>
            <md-button ng-click="rejectSupervision()" class="md-warn md-raised">Reject</md-button>
          </section>
        </div>
      </div>
