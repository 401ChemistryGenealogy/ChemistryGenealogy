<!-- @author Steven Myers -->

<header>
  <md-toolbar>
    <div class="md-toolbar-tools">
      <span flex="5"></span>
      <span flex="16">
        <a ui-sref="main.search" data-ui-sref-opts="{reload: true}"><img ng-src="/static/img/cg.png" /></a>
      </span>
      <span flex="15">
        <a ui-sref="main.search" data-ui-sref-opts="{reload: true}"><b>Chemistry Genealogy</b></a>
      </span>
      <span flex="5"></span>
      <span flex="3" ng-controller="personAutoController">
        <div ng-if="showSearch()">
          <md-icon md-svg-src="/static/img/ic_search_black_24px.svg" aria-label="search"></md-icon>
        </div>
      </span>
      <span flex="40">
        <chemauto-complete type="person"></chemauto-complete>
      </span>
      <span flex="20"></span>
      <div ng-controller="userController" layout="row" layout-align="center end">
      <span flex="7">
        <div  ng-show="isAdmin()">
          <a ui-sref="main.admin">
            <md-button  class="md-fab md-accent">
              <md-icon id="adminOnlyButton" md-svg-src="/static/img/ic_security_black_24px.svg"></md-icon>
            </md-button>
          </a>
        </div>
      </span>
      <span flex="7">
      <div ng-show="showUser()">
        <a ui-sref="main.submit">
          <md-button class="md-fab md-accent">
            <md-icon md-svg-src="/static/img/ic_add_black_24px.svg"></md-icon>
          </md-button>
        </a>
      </div>
      </span>
      <span flex="7">
          <md-button id="theMainLoginButton" class="md-fab md-accent" aria-label="login" ng-click="login($event)" ng-show="showLogin()">
              <md-icon md-svg-src="/static/img/person.svg"></md-icon>
          </md-button>
          <md-menu id="loginSuccessButton" ng-show="showUser()" layout="row" layout-align="center center">
            <md-button md-no-ink class="md-accent" ng-click="$mdOpenMenu($event)">
              {{getUsername()}}
            </md-button>
            <md-menu-content width="2">
              <md-button id="theMainLogoutButton" ng-click="logout()">
                <span md-menu-align-target>Logout</span>
              </md-button>
            </md-menu-content>
          </md-menu>
        </div>
      </span>
    </div>
  </md-toolbar>
</header>

<div ui-view></div>
