<!--
 * HTML for the Submission page.
 *
 * Status: VIEW.
 * Associated files: submitController.js
 *
 * Description: The submission page is going to be the core of where the users will be able to supply information to
 * begin a new page for a given particular user. This page is going to be essentially a massive collection of
 * information that we will be inserting into the system.
 *
 * Things that we're collecting include basic information like:
 * -first name
 * -last name
 * -title
 * -degree type
 * -degree information: {date obtained, primary supervisor, institution}
 * -postdoc postings {dates, supervisor, institution}
 * -
 *
 *
-->

<!-- Initial layout of the first line will follow column style, and not show raw uncompiled form while browser loads-->
<div ng-controller="submitController" layout="column" ng-cloak>
    <!-- This bit will cause the layout to follow a general padding style-->
    <md-content layout-padding>
        <!-- This form is called "userForm" -->
        <form name="userForm">

            <!-- Their switch thing to show hints or not. -->
            <div layout="row" layout-xs="column" layout-sm="column" layout-align="space-between center">
                <div flex-gt-sm="20">

                </div>
                <md-input-container>
                    <md-switch ng-model="showHints">Showing {{showHints ? "Hints" : "Errors"}}</md-switch>
                </md-input-container>
            </div>

            <!-- Spacer //-->
            <div flex="3" hide-xs hide-sm>
            </div>


            <!-- Set the current layout for this line to be the row layout style -->
            <div layout-gt-sm="row">

                <!-- First name edit text field -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label>First Name</label> <!-- State what the field is concerning -->
                    <input md-maxlength="30" required name="firstname" ng-model="user.firstname" />
                    <div class="hint" ng-if="showHints">Tell us what we should call you!</div>
                    <!-- If there is an error flag, display the text following -->
                    <div ng-messages="userForm.name.$error" ng-if="!showHints">
                        <div ng-message="required">First name is required.</div>
                        <div ng-message="md-maxlength">The name has to be less than 30 characters long.</div>
                    </div>
                </md-input-container>

                <!-- Last name edit text -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Last Name</label> <!-- State what the field is concerning -->
                    <input md-maxlength="30" required name="lastname" ng-model="user.lastname" />
                    <div class="hint" ng-if="showHints">Tell us what we should call you!</div>

                    <!-- If there is an error flag, display the text following. ngmessages checks flag -->
                    <div ng-messages="userForm.name.$error" ng-if="!showHints">
                        <div ng-message="required">Last name is required.</div>
                        <div ng-message="md-maxlength">The name has to be less than 30 characters long.</div>
                    </div>
                </md-input-container>

                <!-- Spacer //-->
                <div flex="3" hide-xs hide-sm>
                </div>

                <!-- Title selection Done using a dropdown menu -->
                <div>
                    <form name2="titleForm">

                        <md-input-container class="md-block">
                            <label>Title</label> <!-- indicate to the user what this item is -->
                            <!-- Basic md-selector that will show all of the possible options -->
                            <md-select name="myTitleModel" ng-model="myTitleModel" required>
                                <md-option titleValue="title1">Dr</md-option>
                                <md-option titleValue="title2">Mr</md-option>
                                <md-option titleValue="title3">Ms</md-option>
                                <md-option titleValue="title4">Mrs</md-option>
                                <md-option titleValue="title5">Sir Knighted Dans LeFromage</md-option>
                            </md-select>
                            <!-- If there is an error flag that this is required -->
                            <div class="errors" ng-messages="titleForm.myModel.$error" ng-if="myForm.$dirty">
                                <div ng-message="required">Required</div>
                            </div>
                        </md-input-container>
                        <!-- Extra buttons I don't feel we need but keeping incase for now. <div layout="row">
                            <md-button ng-click="clearValue()" ng-disabled="!titleForm" style="margin-right: 20px;">Clear</md-button>
                            <md-button ng-click="save()" ng-disabled="titleForm.$invalid" class="md-primary" layout layout-align="center end">Save</md-button>
                        </div>-->
                    </form>
                    </div>

                <!-- LARGE Spacer //-->
                <div flex="50" hide-xs hide-sm>
                </div>

                <!-- new line begins here -->
            </div>

            <!-- State that the layout will follow the row format-->
            <div layout-gt-sm="row">

                    <!-- Degree choice choices. Presented. -->
                        <form name="myForm">

                            <!-- The style is going to be against the md-block thing -->
                            <md-input-container class="md-block">
                                <label>Type of Degree</label> <!-- State what the field is -->
                                <!-- Have the listing of all of the selectable options -->
                                <md-select name="myModel" ng-model="myModel" required>
                                    <md-option value="degree1">Doctorate</md-option>
                                    <md-option value="degree2">Mathers</md-option>
                                    <md-option value="degree3">BSc</md-option>
                                    <md-option value="degree4">BA</md-option>
                                    <md-option value="degree5">Highschool</md-option>
                                </md-select>
                                <!-- Have the error messages be displayed to the user -->
                                <div class="errors" ng-messages="myForm.myModel.$error" ng-if="myForm.$dirty">
                                    <div ng-message="required">Required</div>
                                </div>
                            </md-input-container>
                            <!-- Commenting these out because I don't feel that we actually need these for now
                            <div layout="row">
                                <md-button ng-click="clearValue()" ng-disabled="!myModel" style="margin-right: 20px;">Clear</md-button>
                                <md-button ng-click="save()" ng-disabled="myForm.$invalid" class="md-primary" layout layout-align="center end">Save</md-button>
                            </div> -->
                        </form>


                <!-- Position Edit text field -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Current Position Title </label> <!-- Inform the user on what the field is -->
                    <!-- State the position of the user as the particular submitted input.-->
                    <input md-maxlength="30" required name="currentPosition" ng-model="user.currentPosition" />

                    <!-- If there is an error then show the error messages. -->
                    <div ng-messages="userForm.name.$error" ng-if="!showHints">
                        <div ng-message="required">Position Title is required.</div>
                        <div ng-message="md-maxlength">Please tell us the position title.</div>
                    </div>
                </md-input-container>

                <!-- Current Institution edit text field. -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Current Institution Name</label> <!-- Label defined for the user -->
                    <!-- Obtain the input, with a few limitations and assign it -->
                    <input md-maxlength="30" required name="institution" ng-model="user.institution" />

                    <!-- If there is an error then show the error messages. -->
                    <div class="hint" ng-if="showHints">Tell us what we should call you!</div>
                    <div ng-messages="userForm.name.$error" ng-if="!showHints">
                        <div ng-message="required">Institution name is required.</div>
                        <div ng-message="md-maxlength">The name has to be less than 30 characters long.</div>
                    </div>
                </md-input-container>

                <!-- LARGE Spacer //-->
                <div flex="50" hide-xs hide-sm>
                </div>

            <!-- Start a new line YAAAS -->
            </div>

            <!-- Format this line as being in a row format -->
            <div layout-gt-sm="row">

                <!--  -->
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Email</label>
                    <input name="email" ng-model="user.email"
                           required minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/" />
                    <div class="hint" ng-show="showHints">How can we reach you?</div>
                    <div ng-messages="userForm.email.$error" ng-hide="showHints">
                        <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                            Your email must be between 10 and 100 characters long and look like an e-mail address.
                        </div>
                    </div>
                </md-input-container>
                <div flex="5" hide-xs hide-sm>
                    <!-- Spacer //-->
                </div>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Phone Number</label>
                    <input name="phone" ng-model="user.phone" ng-pattern="/^([0-9]{3}) [0-9]{3}-[0-9]{4}$/" />
                    <div class="hint" ng-show="showHints">(###) ###-####</div>
                    <div ng-messages="userForm.phone.$error" ng-hide="showHints">
                        <div ng-message="pattern">(###) ###-#### - Please enter a valid phone number.</div>
                    </div>
                </md-input-container>

                <!-- Start a new line YAAAAAAAAS! -->
                </div>


            <!-- POSTDOCTORAL APPOINTMENT INFORMATION -->
            <!-- Informing the users of what the next section is all about and a brief description -->
            <md-input-container>
                <h1>Postdoctoral Appointments Section</h1>
                Please enter information here about postdoctoral positions you may have held in the past.
            </md-input-container>

            <!-- Layout of the new line is following a row format -->
            <div layout-gt-sm="row">

                <!-- This is going to be the tabs display where they can add their postdocs -->
                <div class="sample" layout="column" ng-cloak>
                    <md-content class="md-padding">

                        <md-tabs md-selected="selectedIndex" md-border-bottom md-autoselect>
                            <md-tab ng-repeat="tab in postDocTabs"
                                    ng-disabled="tab.disabled"
                                    label="{{tab.postDocID}}">
                                <div class="demo-tab tab{{$index%4}}" style="padding: 25px;">
                                    <div> Postdoctoral Dates:   <span ng-bind="tab.postDocDates"></span></div>
                                    <div> Postdoctoral Supervisor:  <span ng-bind="tab.postDocSupervisor"></span></div>
                                    <div> Postdoctoral Institution: <span ng-bind="tab.postDocInstitution"></span></div>
                                    <br/>
                                    <md-button class="md-primary md-raised" ng-click="removePDTab( tab )" ng-disabled="tabs.length <= 1">Remove Tab</md-button>
                                </div>
                            </md-tab>
                        </md-tabs>
                    </md-content>


                    <!-- This section is primarily concerned with accepting the input from the user and putting it into
                        the model. -->
                    <form ng-submit="addPDTab(postDocDates, postDocSupervisor, postDocInstitution)" layout="column" class="md-padding" style="padding-top: 0;">
                        <div layout="row" layout-sm="column">
                            <div flex style="position: relative;">
                            <!-- Shouldn't need this. Commenting out for now. <h2 class="md-subhead" style="position: absolute; bottom: 0; left: 0; margin: 0; font-weight: 500; text-transform: uppercase; line-height: 35px; white-space: nowrap;">Add a new Tab:</h2> -->

                            <!-- Input for the Start date -> End date -->
                            <md-input-container>
                                <label for="content">Start Date - End Date. Eg: 1993-1995</label>
                                <input type="text" id="content" ng-model="postDocDates">
                            </md-input-container>

                            <!-- Input for the Start date -> End date -->
                            <md-input-container>
                                <label for="content">Supervisor Name Eg: John Doe</label>
                                <input type="text" id="pdSupervisorName" ng-model="postDocSupervisor">
                            </md-input-container>

                            <!-- Input for the Start date -> End date -->
                            <md-input-container>
                                <label for="content">Institution Eg: University Of Alberta</label>
                                <input type="text" id="pdInstitution" ng-model="postDocInstitution">
                            </md-input-container>

                            <!-- The button for submitting the data input into the fields above -->
                            <md-button class="add-tab md-primary md-raised" type="submit" style="margin-right: 0;">Add Tab</md-button>
                        </div></div>
                    </form>
                </div>
            </div>





            <!-- New line with row layout format -->
            <div layout-gt-sm="row">
                <!-- This is going to be the tabs display where they can add their postdocs -->
                <div class="sample" layout="column" ng-cloak>
                    <md-content class="md-padding">



                <!-- DEGREE INFORMATION -->
                <!-- Informing the users of what the next section is all about and a brief description -->
                <md-input-container>
                    <h1>Degree Information Section</h1>
                    Please enter information here about any degrees you have obtained in the past.
                </md-input-container>

                <!-- Layout of the new line is following a row format -->
                <div layout-gt-sm="row">

                    <!-- This is going to be the tabs display where they can add their postdocs -->
                    <div class="sample" layout="column" ng-cloak>
                        <md-content class="md-padding">

                            <md-tabs md-selected="selectedIndex" md-border-bottom md-autoselect>
                                <md-tab ng-repeat="tab in degreeInfoTabs"
                                        ng-disabled="tab.disabled"
                                        label="{{tab.postDocID}}">
                                    <div class="demo-tab tab{{$index%4}}" style="padding: 25px;">
                                        <div> Year Degree was Obtained: Eg: 1975   <span ng-bind="tab.degreeInfoYear"></span></div>
                                        <div> Degree Supervisor:  <span ng-bind="tab.degreeInfoSupervisor"></span></div>
                                        <div> Degree Institution: <span ng-bind="tab.degreeInfoInstitution"></span></div>
                                        <br/>
                                        <md-button class="md-primary md-raised" ng-click="removePDTab( tab )" ng-disabled="tabs.length <= 1">Remove Tab</md-button>
                                    </div>
                                </md-tab>
                            </md-tabs>
                        </md-content>


                        <!-- This section is primarily concerned with accepting the input from the user and putting it into
                            the model. -->
                        <form ng-submit="addDITab(degreeInfoYear, degreeInfoSupervisor,degreeInfoInstitution)" layout="column" class="md-padding" style="padding-top: 0;">
                            <div layout="row" layout-sm="column">
                                <div flex style="position: relative;">
                                    <!-- Shouldn't need this. Commenting out for now. <h2 class="md-subhead" style="position: absolute; bottom: 0; left: 0; margin: 0; font-weight: 500; text-transform: uppercase; line-height: 35px; white-space: nowrap;">Add a new Tab:</h2> -->

                                    <!-- Input for the Start date -> End date -->
                                    <md-input-container>
                                        <label for="content">Start Date - End Date. Eg: 1993-1995</label>
                                        <input type="text" id="diYear" ng-model="degreeInfoYear">
                                    </md-input-container>

                                    <!-- Input for the Start date -> End date -->
                                    <md-input-container>
                                        <label for="content">Supervisor Name Eg: John Doe</label>
                                        <input type="text" id="diSupervisor" ng-model="degreeInfoSupervisor">
                                    </md-input-container>

                                    <!-- Input for the Start date -> End date -->
                                    <md-input-container>
                                        <label for="content">Institution Eg: University Of Alberta</label>
                                        <input type="text" id="diInstitution" ng-model="degreeInfoInstitution">
                                    </md-input-container>

                                    <!-- The button for submitting the data input into the fields above -->
                                    <md-button class="add-tab md-primary md-raised" type="submit" style="margin-right: 0;">Add Tab</md-button>
                                </div></div>
                        </form>
                    </div>


                </div>













                <!-- Styling that came with the angular materials -->
                <style>
                    /*
                     * The Material demos system does not currently allow targeting the body element, so this
                     * must go here in the HTML.
                     */
                    body[dir=rtl] .hint {
                        right: 2px;
                        left: auto;
                    }
                </style>
            </div>









        </form>
    </md-content>
</div>